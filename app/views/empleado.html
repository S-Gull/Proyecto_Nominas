<!DOCTYPE html>
<html lang="es" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mi Panel de Empleado</title>
  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <!-- Estilos -->
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/modal.css">
</head>
<body class="min-h-screen bg-light dark:bg-dark-900 transition-colors duration-200 font-inter">

  <!-- Header -->
  <header class="bg-white dark:bg-dark-800 p-6 shadow-lg">
    <div class="container mx-auto flex justify-between items-center">
      <h2 class="text-2xl font-verdana text-primary dark:text-light">Mi<span class="text-accent1">Perfil</span></h2>
      <button id="cambio-color" class="p-2 rounded-full bg-gray-200 dark:bg-dark-700">
        <i class="fas fa-moon dark:fa-sun text-gray-700 dark:text-gray-200"></i>
      </button>
    </div>
  </header>

  <!-- Contenido -->
  <main class="container mx-auto px-4 py-6" id="employee-view">
    <!-- Información básica del empleado -->
    <section class="mb-8 animate-fade-in">
      <h2 class="text-2xl font-verdana mb-4 underline text-primary dark:text-light">Datos Personales</h2>
      <div class="bg-light dark:bg-dark-800 p-4 rounded-2xl shadow-md">
        <p class="mb-1 text-primary dark:text-light"><strong>Nombre:</strong> <span id="empName">Cargando...</span></p>
        <p class="mb-1 text-primary dark:text-light"><strong>Cédula:</strong> <span id="empCedula">Cargando...</span></p>
        <p class="mb-1 text-primary dark:text-light"><strong>Cargo:</strong> <span id="empCargo">Cargando...</span></p>
        <p class="mb-1 text-primary dark:text-light"><strong>Departamento:</strong> <span id="empDept">Cargando...</span></p>
        <p class="text-primary dark:text-light"><strong>Ingreso:</strong> <span id="empIngreso">Cargando...</span></p>
      </div>
    </section>

    <!-- Pestañas de gestión -->
    <section class="animate-slide-down">
      <h2 class="text-2xl font-verdana mb-4 underline text-primary dark:text-light">Mi Información</h2>
      <div class="border-b border-secondary mb-4">
        <nav class="flex -mb-px space-x-4" role="tablist">
          <button class="tab-btn px-4 py-2 text-sm font-medium text-secondary dark:text-light hover:text-accent1" data-tab="salary">Salario</button>
          <button class="tab-btn px-4 py-2 text-sm font-medium text-secondary dark:text-light hover:text-accent1" data-tab="deductions">Deducciones</button>
          <button class="tab-btn px-4 py-2 text-sm font-medium text-secondary dark:text-light hover:text-accent1" data-tab="extras">Horas Extras</button>
          <button class="tab-btn px-4 py-2 text-sm font-medium text-secondary dark:text-light hover:text-accent1" data-tab="bonuses">Bonos</button>
          <button class="tab-btn px-4 py-2 text-sm font-medium text-secondary dark:text-light hover:text-accent1" data-tab="vacations">Vacaciones</button>
        </nav>
      </div>

      <div id="tabsContent" class="text-primary dark:text-light">
        <!-- Contenido de las pestañas -->
        
        <!-- Pestaña Salario -->
        <div id="salary" class="tab-pane">
          <h3 class="text-xl font-verdana mt-6 mb-2 text-primary dark:text-light">Historial de Salarios</h3>
          <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
            <thead>
              <tr>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Inicio</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Fin</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Base</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Variable</th>
              </tr>
            </thead>
            <tbody id="salaryHistory" class="divide-y divide-gray-200 dark:divide-gray-700"></tbody>
          </table>
        </div>
        
        <!-- Pestaña Deducciones -->
        <div id="deductions" class="tab-pane hidden">
          <h3 class="text-xl font-verdana mb-2 text-primary dark:text-light">Historial de Deducciones</h3>
          <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
            <thead>
              <tr>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Fecha</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Tipo</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Monto</th>
              </tr>
            </thead>
            <tbody id="deductionHistory" class="divide-y divide-gray-200 dark:divide-gray-700"></tbody>
          </table>
        </div>
        
        <!-- Pestaña Horas Extras -->
        <div id="extras" class="tab-pane hidden">
          <h3 class="text-xl font-verdana mb-2 text-primary dark:text-light">Historial de Horas Extras</h3>
          <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
            <thead>
              <tr>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Fecha</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Tipo</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Horas</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Monto</th>
              </tr>
            </thead>
            <tbody id="extrasHistory" class="divide-y divide-gray-200 dark:divide-gray-700"></tbody>
          </table>
        </div>
        
        <!-- Pestaña Bonos -->
        <div id="bonuses" class="tab-pane hidden">
          <h3 class="text-xl font-verdana mb-2 text-primary dark:text-light">Historial de Bonos</h3>
          <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
            <thead>
              <tr>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Fecha</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Tipo</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Monto</th>
              </tr>
            </thead>
            <tbody id="bonusHistory" class="divide-y divide-gray-200 dark:divide-gray-700"></tbody>
          </table>
        </div>
        
        <!-- Pestaña Vacaciones -->
        <div id="vacations" class="tab-pane hidden">
          <div class="mb-4">
            <p class="text-primary dark:text-light"><strong>Días usados:</strong> <span id="vacDaysUsed">0</span></p>
            <p class="text-primary dark:text-light"><strong>Días disponibles:</strong> <span id="vacDaysRight">30</span></p>
          </div>
          
          <h3 class="text-xl font-verdana mb-2 text-primary dark:text-light">Historial de Vacaciones</h3>
          <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
            <thead>
              <tr>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Inicio</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Fin</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-primary dark:text-light uppercase tracking-wider">Días</th>
              </tr>
            </thead>
            <tbody id="vacationHistory" class="divide-y divide-gray-200 dark:divide-gray-700"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Reporte de nómina -->
    <section id="payroll-report" class="mt-8 animate-pulse-slow">
      <h2 class="text-2xl font-verdana mb-4 underline text-primary dark:text-light">Mi Nómina</h2>
      <div class="flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4">
        <select id="reportPeriod" class="px-4 py-2 border border-secondary rounded-lg text-primary dark:text-light bg-white dark:bg-dark-700">
          <option value="">-- Seleccione Periodo --</option>
        </select>
      </div>
      <div id="payrollPreview" class="mt-6 bg-light dark:bg-dark-800 p-4 rounded-2xl shadow-md">
        <pre id="payrollReportContent" class="whitespace-pre-wrap text-sm font-mono text-primary dark:text-light"></pre>
        <button id="generateReceiptBtn" class="mt-4 bg-accent1 hover:bg-accent2 text-light px-4 py-2 rounded-lg">Generar Recibo</button>
      </div>
    </section>
  </main>

  <!-- Modal reutilizable -->
  <div id="modalContainer" class="modal-container">
    <div id="modalContent" class="modal-content bg-white dark:bg-dark-800">
        <div id="modalHeader" class="modal-header">
            <div class="flex items-center">
                <i id="modalIcon" class="modal-icon"></i>
                <h2 id="modalTitle" class="text-xl font-bold text-white"></h2>
            </div>
            <button id="modalClose" class="text-white hover:text-gray-200 text-xl">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="modalBody" class="modal-body">
            <p id="modalMessage" class="text-primary dark:text-light"></p>
        </div>
        <div class="modal-footer">
            <button id="modalCancel" class="modal-btn-cancel" style="display: none;">
                Cancelar
            </button>
            <button id="modalAction" class="modal-btn-accept">
                Aceptar
            </button>
        </div>
    </div>
  </div>

  <!-- Script principal -->
  <script type="module" src="../js/app.js"></script>
</body>
</html>