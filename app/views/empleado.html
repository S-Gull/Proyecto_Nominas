<!DOCTYPE html>
<html lang="es" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Panel de Empleado Seleccionado</title>
  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <!-- Estilos -->
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="../css/modal.css" />
</head>
<body class="min-h-screen bg-light dark:bg-dark-900 transition-colors duration-200 font-inter">

  <!-- Header -->
  <header class="bg-white p-6 shadow-lg dark:bg-dark-800">
    <div class="container mx-auto flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0">
      <div class="flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-8">
        <h2 class="text-2xl font-bold text-gray-800 dark:text-white font-verdana">Perfil<span class="text-accent1"> Empleado</span></h2>
        
        <!-- Menú de navegación -->
        <nav class="flex flex-wrap gap-2 md:gap-4">
          <a href="./plantilla.html" class="px-3 py-2 bg-gray-100  rounded-lg hover:bg-accent1 hover:text-white transition-colors duration-300 text-sm md:text-base">
            <i class="fas fa-table mr-2"></i>Planilla
          </a>
          <a href="./reportes.html" class="px-3 py-2 bg-gray-100  rounded-lg hover:bg-accent1 hover:text-white transition-colors duration-300 text-sm md:text-base">
            <i class="fas fa-chart-bar mr-2"></i>Reportes
          </a>
          <a href="#" class="px-3 py-2 bg-gray-100  rounded-lg hover:bg-accent1 hover:text-white transition-colors duration-300 text-sm md:text-base">
            <i class="fas fa-users mr-2"></i>Empleados
          </a>
          <a href="#" class="px-3 py-2 bg-gray-100  rounded-lg hover:bg-accent1 hover:text-white transition-colors duration-300 text-sm md:text-base">
            <i class="fas fa-file-invoice-dollar mr-2"></i>Nómina
          </a>
        </nav>
      </div>
      
      <div class="flex items-center space-x-4">
        <button id="cerrar-sesion" class="px-4 py-2 bg-accent1 text-white rounded-lg hover:bg-accent2 transition-colors duration-300 font-inter">
          Cerrar Sesión
        </button>
        <button id="cambio-color" class="p-2 rounded-full bg-gray-200 dark:bg-dark-700">
          <i class="fas fa-moon dark:fa-sun text-gray-700 dark:text-gray-200"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- Resto del contenido permanece igual -->
  <main class="container mx-auto px-4 py-6" id="selected-view">
    <!-- Información básica del empleado -->
    <section class="mb-8 animate-fade-in">
      <h2 class="text-2xl font-verdana mb-4 underline text-primary dark:text-light">
        Datos Personales
      </h2>
      <div class="bg-light dark:bg-dark-800 p-4 rounded-2xl shadow-md">
        <p class="mb-1 text-primary dark:text-light">
          <strong>Nombre:</strong> <span id="empName">Cargando...</span>
        </p>
        <p class="mb-1 text-primary dark:text-light">
          <strong>Cédula:</strong> <span id="empCedula">Cargando...</span>
        </p>
        <p class="mb-1 text-primary dark:text-light">
          <strong>Cargo:</strong> <span id="empCargo">Cargando...</span>
        </p>
        <p class="mb-1 text-primary dark:text-light">
          <strong>Departamento:</strong> <span id="empDept">Cargando...</span>
        </p>
        <p class="text-primary dark:text-light">
          <strong>Ingreso:</strong> <span id="empIngreso">Cargando...</span>
        </p>
      </div>
    </section>


  <!-- Contenido -->
  <main class="container mx-auto px-4 py-6" id="selected-view">
    <!-- Información básica del empleado -->
    <section class="mb-8 animate-fade-in">
      <h2 class="text-2xl font-verdana mb-4 underline text-primary dark:text-light">
        Datos Personales
      </h2>
      <div class="bg-light dark:bg-dark-800 p-4 rounded-2xl shadow-md">
        <p class="mb-1 text-primary dark:text-light">
          <strong>Nombre:</strong> <span id="empName">Cargando...</span>
        </p>
        <p class="mb-1 text-primary dark:text-light">
          <strong>Cédula:</strong> <span id="empCedula">Cargando...</span>
        </p>
        <p class="mb-1 text-primary dark:text-light">
          <strong>Cargo:</strong> <span id="empCargo">Cargando...</span>
        </p>
        <p class="mb-1 text-primary dark:text-light">
          <strong>Departamento:</strong> <span id="empDept">Cargando...</span>
        </p>
        <p class="text-primary dark:text-light">
          <strong>Ingreso:</strong> <span id="empIngreso">Cargando...</span>
        </p>
      </div>
    </section>

    <!-- Pestañas de gestión -->
    <section class="animate-slide-down" name="Gestion admin">
      <h2 class="text-2xl font-verdana mb-4 underline text-primary dark:text-light">
        Información Del Usuario
      </h2>
      <div class="border-b border-secondary mb-4">
        <nav class="flex -mb-px space-x-4" role="tablist">
          <button class="tab-btn px-4 py-2 text-sm font-medium text-secondary dark:text-light hover:text-accent1" data-tab="salary">Salario</button>
          <button class="tab-btn px-4 py-2 text-sm font-medium text-secondary dark:text-light hover:text-accent1" data-tab="deductions">Deducciones</button>
          <button class="tab-btn px-4 py-2 text-sm font-medium text-secondary dark:text-light hover:text-accent1" data-tab="extras">Horas Extras</button>
          <button class="tab-btn px-4 py-2 text-sm font-medium text-secondary dark:text-light hover:text-accent1" data-tab="bonuses">Bonos</button>
          <button class="tab-btn px-4 py-2 text-sm font-medium text-secondary dark:text-light hover:text-accent1" data-tab="vacations">Vacaciones</button>
        </nav>
      </div>

      <div id="tabsContent" class="text-primary dark:text-light">
        <!-- Salario -->
        <div id="salary" class="tab-content">
          <div class="mb-4">
            <label class="block mb-1" for="salaryBase">Sueldo Base</label>
            <input id="salaryBase" type="number" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white" />
          </div>
          <div class="mb-4">
            <label class="block mb-1" for="salaryVariable">Sueldo Variable</label>
            <input id="salaryVariable" type="number" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white" />
          </div>
          <div class="flex space-x-2 mb-4">
            <button id="addSalaryBtn" class="px-4 py-2 bg-accent1 rounded">Agregar</button>
            <button id="editSalaryBtn" class="px-4 py-2 bg-accent2 rounded">Editar</button>
            <button id="deleteSalaryBtn" class="px-4 py-2 bg-red-500 rounded">Eliminar</button>
          </div>
          <table class="w-full text-sm">
            <thead>
              <tr><th>Inicio</th><th>Fin</th><th>Base</th><th>Variable</th></tr>
            </thead>
            <tbody id="salaryHistory"></tbody>
          </table>
        </div>

        <!-- Deducciones -->
        <div id="deductions" class="tab-content hidden">
          <div class="mb-4">
            <label class="block mb-1" for="deductionType">Tipo</label>
            <select id="deductionType" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white"></select>
          </div>
          <div class="mb-4">
            <label class="block mb-1" for="deductionAmount">Monto</label>
            <input id="deductionAmount" type="number" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white" />
          </div>
          <div class="flex space-x-2 mb-4">
            <button id="addDeductionBtn" class="px-4 py-2 bg-accent1 rounded">Agregar</button>
            <button id="editDeductionBtn" class="px-4 py-2 bg-accent2 rounded">Editar</button>
            <button id="deleteDeductionBtn" class="px-4 py-2 bg-red-500 rounded">Eliminar</button>
          </div>
          <table class="w-full text-sm">
            <thead>
              <tr><th>Fecha</th><th>Tipo</th><th>Monto</th></tr>
            </thead>
            <tbody id="deductionHistory"></tbody>
          </table>
        </div>

        <!-- Horas Extras -->
        <div id="extras" class="tab-content hidden">
          <div class="mb-4">
            <label class="block mb-1" for="extraType">Tipo</label>
            <input id="extraType" type="text" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white" />
          </div>
          <div class="mb-4">
            <label class="block mb-1" for="extraHours">Horas</label>
            <input id="extraHours" type="number" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white" />
          </div>
          <div class="mb-4">
            <label class="block mb-1" for="extraAmount">Monto</label>
            <input id="extraAmount" type="number" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white" />
          </div>
          <div class="flex space-x-2 mb-4">
            <button id="addExtraBtn" class="px-4 py-2 bg-accent1 rounded">Agregar</button>
            <button id="editExtraBtn" class="px-4 py-2 bg-accent2 rounded">Editar</button>
            <button id="deleteExtraBtn" class="px-4 py-2 bg-red-500 rounded">Eliminar</button>
          </div>
          <table class="w-full text-sm">
            <thead>
              <tr><th>Fecha</th><th>Tipo</th><th>Horas</th><th>Monto</th></tr>
            </thead>
            <tbody id="extrasHistory"></tbody>
          </table>
        </div>

        <!-- Bonos -->
        <div id="bonuses" class="tab-content hidden">
          <div class="mb-4">
            <label class="block mb-1" for="bonusType">Tipo</label>
            <input id="bonusType" type="text" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white" />
          </div>
          <div class="mb-4">
            <label class="block mb-1" for="bonusAmount">Monto</label>
            <input id="bonusAmount" type="number" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white" />
          </div>
          <div class="flex space-x-2 mb-4">
            <button id="addBonusBtn" class="px-4 py-2 bg-accent1 rounded">Agregar</button>
            <button id="editBonusBtn" class="px-4 py-2 bg-accent2 rounded">Editar</button>
            <button id="deleteBonusBtn" class="px-4 py-2 bg-red-500 rounded">Eliminar</button>
          </div>
          <table class="w-full text-sm">
            <thead>
              <tr><th>Fecha</th><th>Tipo</th><th>Monto</th></tr>
            </thead>
            <tbody id="bonusHistory"></tbody>
          </table>
        </div>

        <!-- Vacaciones -->
        <div id="vacations" class="tab-content hidden">
          <div class="mb-4">
            <label class="block mb-1" for="vacStart">Inicio</label>
            <input id="vacStart" type="date" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white" />
          </div>
          <div class="mb-4">
            <label class="block mb-1" for="vacEnd">Fin</label>
            <input id="vacEnd" type="date" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white" />
          </div>
          <div class="mb-4">
            <label class="block mb-1" for="vacDays">DÍas Disfrutados</label>
            <input id="vacDays" type="number" class="w-full p-2 border rounded bg-white text-black dark:bg-black dark:text-white" />
          </div>
          <div class="flex space-x-2 mb-4">
            <button id="addVacationBtn" class="px-4 py-2 bg-accent1 rounded">Agregar</button>
            <button id="editVacationBtn" class="px-4 py-2 bg-accent2 rounded">Editar</button>
            <button id="deleteVacationBtn" class="px-4 py-2 bg-red-500 rounded">Eliminar</button>
          </div>
          <table class="w-full text-sm">
            <thead>
              <tr><th>Inicio</th><th>Fin</th><th>Días</th></tr>
            </thead>
            <tbody id="vacationHistory"></tbody>
          </table>
          <p class="mt-4"><strong>Días Usados:</strong> <span id="vacDaysUsed">0</span> / <span id="vacDaysRight">30</span></p>
        </div>
      </div>
    </section>

    <!-- Reporte de nómina -->
    <section id="payroll-report" class="mt-8 animate-pulse-slow">
      <h2 class="text-2xl font-verdana mb-4 underline text-primary dark:text-light">Mi Nómina</h2>
      <div class="flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4">
        <select id="reportPeriod" class="px-4 py-2 border border-secondary rounded-lg bg-white text-black dark:bg-black dark:text-white">
          <option value="">-- Seleccione Periodo --</option>
        </select>
        <button id="calcPayrollBtn" class="bg-accent1 hover:bg-accent2 text-light px-4 py-2 rounded-lg">Calcular</button>
      </div>
      <div id="payrollPreview" class="mt-6 bg-light dark:bg-dark-800 p-4 rounded-2xl shadow-md">
        <pre id="payrollReportContent" class="whitespace-pre-wrap text-sm font-mono text-primary dark:text-light"></pre>
        <button id="generateReceiptBtn" class="mt-4 bg-accent1 hover:bg-accent2 text-light px-4 py-2 rounded-lg">Generar Recibo</button>
      </div>
    </section>
  </main>

  <!-- Modal reutilizable -->
  <div id="modalContainer" class="modal-container">
    <div id="modalContent" class="modal-content bg-white dark:bg-dark-800">
      <div id="modalHeader" class="modal-header">
        <div class="flex items-center">
          <i id="modalIcon" class="modal-icon"></i>
          <h2 id="modalTitle" class="text-xl font-bold text-white"></h2>
        </div>
        <button id="modalClose" class="text-white hover:text-gray-200 text-xl"><i class="fas fa-times"></i></button>
      </div>
      <div id="modalBody" class="modal-body"><p id="modalMessage" class="text-primary dark:text-light"></p></div>
      <div class="modal-footer">
        <button id="modalCancel" class="modal-btn-cancel" style="display: none;">Cancelar</button>
        <button id="modalAction" class="modal-btn-accept">Aceptar</button>
      </div>
    </div>
  </div>

  <!-- Script principal -->
  <script type="module" src="../js/app.js"></script>
</body>
</html>
